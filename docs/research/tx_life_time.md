## 交易对生命周期
我们的交易进入是fcfs还是以priority fee来排序呢？这直接影响了代币经济学，因此我们先研究以太坊的[代币经济学](/docs/research/tokennomics.md)。
在这里，我们了解到了以太坊的经济模型设计，主要是矿工和用户之间的博弈而导致的结果，设计了EIP-1559。我也沿用以太坊的经济模型，我们也还是比较认可这一套方案。

首先需要认识到全节点与轻节点的差异，我们推荐读者阅读该[文章](https://ethereum.org/zh/developers/docs/nodes-and-clients/)。  

首先，交易是通过全节点发送的，也就是用户得从全节点发送交易，全节点公开一个接口RPC，来为第三方钱包提供服务，用户与钱包交互，轻量级钱包使用第三方RPC，也就是某个服务器运行的全节点，来间接发送交易。当全节点向网络广播交易时，需要全节点构建一笔符合要求的交易，其格式在README.md，当然也可以通过客户端构建+用户签名，然后全节点验证有效性，再进行广播。

### 交易广播
节点在收到交易后，除了将交易缓存在交易池外，节点还会将交易广播至该节点已知的其他节点。
为了能让交易尽可能到达所有节点，其他收到广播过来的交易节点，也会根据一些精巧的策略选择一些节点，将交易再一次进行广播，比如：对于从其他节点转发过来的交易，节点只会随机选择25%的节点再次广播，因为这种情况一般意味着交易已经开始在网络中被节点接力传递，缩减广播的规模有助于避免因网络中冗余的交易太多而出现的广播风暴问题。

### 交易打包
为了提高交易处理效率，同时也为了确定交易之后的执行顺序保证事务性，当交易池中有交易时，Sealer线程负责从交易池中按照先进先出的顺序取出一定数量的交易，组装成待共识区块，随后待共识区块会被发往各个节点进行处理。








参考资料：
[交易全流程](https://fisco-bcos-documentation.readthedocs.io/zh_CN/stable/docs/design/tx_procedure.html)  








