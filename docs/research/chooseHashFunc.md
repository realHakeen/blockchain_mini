### 该使用什么哈希函数？
在这篇文章中，我们主要介绍该使用的哈希函数。由于我们力求简单和可拓展，因此我们刚开始的链使用的哈希函数是
SHA-2。我们简要介绍一下这个函数，以及其工作原理：
为什么需要哈希函数？因为我们的区块不可能存那么多数据，然后让矿工去维护，那么会造成数据无限膨胀，这对全节点没问题，
但是对于轻节点（只存储区块头的节点）却不行，这会导致轻节点的状态迅速膨胀。因此我们选择在区块头只加入stateroot字段，当节点验证时，通过运行tx，然后将txRoot和全局状态修改后的stateRoot与区块头的txRoot和stateRoot比较。

SHA-2的运行原理：
哈希函数具备将任意长度字符映射成固定长度的字符，但是目前的计算机能力不能够反求值，那么我们只需要哈希值就能够精确无误的反应当前所有的交易。因此我们把所有的具体的数据比如（交易、区块数据、全局状态）都抽象成哈希Root。
<image src= "./docs/images/root_demo.png"></image>
SHA-2是美国安全局设计的哈希函数，更难破解，一台计算机破解出来需要上万年。因此很适合。SHA-2是许多种类哈希函数的集合，比如SHA-256就是其中一种。而以太坊使用的就是SHA-3的获胜者Keccak-256，这个更难破解，但是keccak-256不仅仅是为了破解，是综合考量：

1. keccak是一种通用的哈希函数，可以用于多种场景，比如生成地址、签名、Merkle树等，统一使用keccak可以简化设计和实现。
2. keccak是一种高效的哈希函数，可以在CPU和GPU上快速计算，适合以太坊的高吞吐量和低延迟的需求。
3. keccak是一种安全的哈希函数，可以抵抗量子计算机的攻击，为以太坊的未来发展提供保障。


能够从上图看到，我们的tx形成二叉树，tx抽象成哈希值，然后每两个哈希值由形成一个哈希值，直到达到hash root。而以太坊使用的是MPT树，这个也有很多考量：
[MPT树详解](https://zhuanlan.zhihu.com/p/133718794)

